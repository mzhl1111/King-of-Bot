{"ast":null,"code":"import { ref, reactive } from \"vue\";\nimport $ from \"jquery\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const store = useStore();\n    let bots = ref([]);\n    const bot_to_add = reactive({\n      botName: \"\",\n      description: \"\",\n      content: \"\",\n      error_message: \"\"\n    });\n    const refresh_bots = () => {\n      $.ajax({\n        url: \"http://localhost:8888/user/bot/getall/\",\n        type: \"GET\",\n        data: {},\n        headers: {\n          Authorization: \"Bearer \" + store.state.user.token\n        },\n        success(resp) {\n          bots.value = resp;\n        },\n        error(resp) {\n          console.log(resp);\n        }\n      });\n    };\n    refresh_bots();\n    const add_new_bot = () => {\n      bot_to_add.error_message = \"\";\n      $.ajax({\n        url: \"http://localhost:8888/user/bot/add/\",\n        type: \"POST\",\n        data: {\n          botName: bot_to_add.botName,\n          description: bot_to_add.description\n        },\n        headers: {\n          Authorization: \"Bearer \" + store.state.user.token\n        },\n        success(resp) {\n          bots.value = resp;\n        },\n        error(resp) {\n          console.log(resp);\n        }\n      });\n    };\n    return {\n      bots,\n      bot_to_add\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","$","useStore","setup","store","bots","bot_to_add","botName","description","content","error_message","refresh_bots","ajax","url","type","data","headers","Authorization","state","user","token","success","resp","value","error","console","log","add_new_bot"],"sources":["/Users/muzhouliu/Desktop/acwing/kob/web/src/views/user/bots/userBotIndexView.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-3\">\n          <div class=\"card\" style=\"margin-top: 20px;\">\n            <div class=\"card-body\">\n              <img :src=\"$store.state.user.photo\" alt=\"\" style=\"width: 100%;\">\n            </div>\n          </div>\n        </div>\n        <div class=\"col-9\">\n          <div class=\"card\" style=\"margin-top: 20px;\">\n            <div class=\"cardheader\">\n              <span style=\"font-size: 130%;\"> My Bots</span>\n              <button type=\"button\" class=\"btn btn-primary float-end\" data-bs-toggle=\"modal\" data-bs-target=\"#add-bot-btn\">+ New Bot</button>\n              <!-- Modal -->\n              <div class=\"modal modal-xl modal-dialog-scrollable\" id=\"add-bot-btn\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog\">\n                  <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                      <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Create new bot</h1>\n                      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n                      <!-- form -->\n                      <div class=\"mb-3\">\n                        <label for=\"add-bot-name\" class=\"form-label\">Bot name</label>\n                        <input v-model=\"bot_to_add.botName\" type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"Please input bot name\">\n                      </div>\n                      <div class=\"mb-3\">\n                        <label for=\"add-bot-descrption\" class=\"form-label\">Description</label>\n                        <textarea v-model=\"bot_to_add.description\" class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" placeholder=\"Please bot's description\"></textarea>\n                      </div>\n                      <div class=\"mb-3\">\n                        <label for=\"add-bot-descrption\" class=\"form-label\">Code</label>\n                        <textarea v-model=\"bot_to_add.content\" class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"10\" placeholder=\"Please put your code here\"></textarea>\n                      </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                      <div class=\"error-message\">{{ bot_to_add.error_message }}</div>\n                      <button type=\"button\" class=\"btn btn-primary\">Submit</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"card-body\">\n              <table class=\"table table-hover\">\n                <thead>\n                  <th> Bot Name</th>\n                  <th> Create time</th>\n                  <th> Operation</th>\n                </thead>\n                <tbody>\n                  <tr v-for=\"bot in bots\" :key=\"bot.id\">\n                    <td>{{ bot.botName }}</td>\n                    <td>{{ bot.createTime }}</td>\n                    <td>\n                      <button class=\"btn btn-primary\" data-bs-toggle=\"button\" style=\"margin-right: 10px;\">Edit</button>\n                      <button class=\"btn btn-danger\" data-bs-toggle=\"button\">Delete</button></td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n  \n  \n<script>\nimport { ref, reactive } from \"vue\"\nimport $ from \"jquery\"\nimport { useStore } from \"vuex\";\n\n\nexport default {\n  setup() {\n    const store = useStore();\n    let bots = ref([]);\n\n    const bot_to_add = reactive ({\n      botName: \"\",\n      description: \"\",\n      content: \"\",\n      error_message: \"\",\n    })\n\n    const refresh_bots = () => {\n      $.ajax({\n        url: \"http://localhost:8888/user/bot/getall/\",\n        type: \"GET\",\n        data: {\n        },\n        headers: {\n          Authorization: \"Bearer \" + store.state.user.token\n        },\n        success(resp) {\n          bots.value = resp;\n        },\n        error(resp) {\n          console.log(resp);\n        }\n      })\n    }\n\n    refresh_bots();\n\n    const add_new_bot = () => {\n      bot_to_add.error_message = \"\";\n      $.ajax({\n        url: \"http://localhost:8888/user/bot/add/\",\n        type: \"POST\",\n        data: {\n          botName: bot_to_add.botName,\n          description: bot_to_add.description,\n          \n        },\n        headers: {\n          Authorization: \"Bearer \" + store.state.user.token\n        },\n        success(resp) {\n          bots.value = resp;\n        },\n        error(resp) {\n          console.log(resp);\n        }\n      })\n    }\n\n    return {\n      bots,\n      bot_to_add\n    }\n  }\n}\n</script>\n\n  \n<style scoped>\ndiv.error-message {\n  color: red;\n}\n</style>"],"mappings":"AAwEA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,OAAOC,CAAA,MAAO,QAAO;AACrB,SAASC,QAAO,QAAS,MAAM;AAG/B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIF,QAAQ,CAAC,CAAC;IACxB,IAAIG,IAAG,GAAIN,GAAG,CAAC,EAAE,CAAC;IAElB,MAAMO,UAAS,GAAIN,QAAO,CAAG;MAC3BO,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,EAAE;MACXC,aAAa,EAAE;IACjB,CAAC;IAED,MAAMC,YAAW,GAAIA,CAAA,KAAM;MACzBV,CAAC,CAACW,IAAI,CAAC;QACLC,GAAG,EAAE,wCAAwC;QAC7CC,IAAI,EAAE,KAAK;QACXC,IAAI,EAAE,CACN,CAAC;QACDC,OAAO,EAAE;UACPC,aAAa,EAAE,SAAQ,GAAIb,KAAK,CAACc,KAAK,CAACC,IAAI,CAACC;QAC9C,CAAC;QACDC,OAAOA,CAACC,IAAI,EAAE;UACZjB,IAAI,CAACkB,KAAI,GAAID,IAAI;QACnB,CAAC;QACDE,KAAKA,CAACF,IAAI,EAAE;UACVG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;QACnB;MACF,CAAC;IACH;IAEAX,YAAY,CAAC,CAAC;IAEd,MAAMgB,WAAU,GAAIA,CAAA,KAAM;MACxBrB,UAAU,CAACI,aAAY,GAAI,EAAE;MAC7BT,CAAC,CAACW,IAAI,CAAC;QACLC,GAAG,EAAE,qCAAqC;QAC1CC,IAAI,EAAE,MAAM;QACZC,IAAI,EAAE;UACJR,OAAO,EAAED,UAAU,CAACC,OAAO;UAC3BC,WAAW,EAAEF,UAAU,CAACE;QAE1B,CAAC;QACDQ,OAAO,EAAE;UACPC,aAAa,EAAE,SAAQ,GAAIb,KAAK,CAACc,KAAK,CAACC,IAAI,CAACC;QAC9C,CAAC;QACDC,OAAOA,CAACC,IAAI,EAAE;UACZjB,IAAI,CAACkB,KAAI,GAAID,IAAI;QACnB,CAAC;QACDE,KAAKA,CAACF,IAAI,EAAE;UACVG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;QACnB;MACF,CAAC;IACH;IAEA,OAAO;MACLjB,IAAI;MACJC;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}