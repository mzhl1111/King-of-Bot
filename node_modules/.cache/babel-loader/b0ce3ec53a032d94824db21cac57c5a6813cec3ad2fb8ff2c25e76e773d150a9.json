{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst GAME_OBJECT = [];\nexport class GameObject {\n  constructor() {\n    GAME_OBJECT.push(this);\n    this.time_delta = 0;\n    this.has_called_start = false;\n  }\n  start() {// only call on start for once\n  }\n  update() {// calls every frame, except the start\n  }\n  on_destroy() {// calls before destory\n  }\n  destory() {\n    for (let i in GAME_OBJECT) {\n      const obj = GAME_OBJECT[i];\n      if (obj == this) {\n        GAME_OBJECT.splice(i);\n        break;\n      }\n    }\n  }\n}\nlet last_timestamp;\nconst step = timestamp => {\n  for (let obj of GAME_OBJECT) {\n    if (!obj.has_called_start) {\n      obj.has_called_start = true;\n      obj.start();\n    } else {\n      obj.time_delta = timestamp - last_timestamp;\n      obj.update();\n    }\n  }\n  requestAnimationFrame(step);\n};\nrequestAnimationFrame(step);","map":{"version":3,"names":["GAME_OBJECT","GameObject","constructor","push","time_delta","has_called_start","start","update","on_destroy","destory","i","obj","splice","last_timestamp","step","timestamp","requestAnimationFrame"],"sources":["/Users/muzhouliu/Desktop/acwing/kob/web/src/assets/scripts/GameObject.js"],"sourcesContent":["const GAME_OBJECT = [];\n\n\n\nexport class GameObject {\n    constructor() {\n        GAME_OBJECT.push(this);\n        this.time_delta = 0;\n        this.has_called_start = false\n    }\n\n    start () { // only call on start for once\n\n    }\n\n    update() { // calls every frame, except the start\n\n    }\n\n    on_destroy() { // calls before destory\n\n    }\n\n    destory() {\n        for (let i in GAME_OBJECT){\n            const obj = GAME_OBJECT[i];\n            if (obj == this) {\n                GAME_OBJECT.splice(i);\n                break;\n            }\n        }\n    }\n}\n\nlet last_timestamp;\nconst step = timestamp => {\n    for (let obj of GAME_OBJECT) {\n        if (!obj.has_called_start) {\n            obj.has_called_start = true;\n            obj.start()\n        } else {\n            obj.time_delta = timestamp -last_timestamp;\n            obj.update();\n        }\n    }\n\n    requestAnimationFrame(step)\n}\n\nrequestAnimationFrame(step)"],"mappings":";AAAA,MAAMA,WAAW,GAAG,EAAE;AAItB,OAAO,MAAMC,UAAU,CAAC;EACpBC,WAAWA,CAAA,EAAG;IACVF,WAAW,CAACG,IAAI,CAAC,IAAI,CAAC;IACtB,IAAI,CAACC,UAAU,GAAG,CAAC;IACnB,IAAI,CAACC,gBAAgB,GAAG,KAAK;EACjC;EAEAC,KAAKA,CAAA,EAAI,CAAE;EAAA;EAIXC,MAAMA,CAAA,EAAG,CAAE;EAAA;EAIXC,UAAUA,CAAA,EAAG,CAAE;EAAA;EAIfC,OAAOA,CAAA,EAAG;IACN,KAAK,IAAIC,CAAC,IAAIV,WAAW,EAAC;MACtB,MAAMW,GAAG,GAAGX,WAAW,CAACU,CAAC,CAAC;MAC1B,IAAIC,GAAG,IAAI,IAAI,EAAE;QACbX,WAAW,CAACY,MAAM,CAACF,CAAC,CAAC;QACrB;MACJ;IACJ;EACJ;AACJ;AAEA,IAAIG,cAAc;AAClB,MAAMC,IAAI,GAAGC,SAAS,IAAI;EACtB,KAAK,IAAIJ,GAAG,IAAIX,WAAW,EAAE;IACzB,IAAI,CAACW,GAAG,CAACN,gBAAgB,EAAE;MACvBM,GAAG,CAACN,gBAAgB,GAAG,IAAI;MAC3BM,GAAG,CAACL,KAAK,CAAC,CAAC;IACf,CAAC,MAAM;MACHK,GAAG,CAACP,UAAU,GAAGW,SAAS,GAAEF,cAAc;MAC1CF,GAAG,CAACJ,MAAM,CAAC,CAAC;IAChB;EACJ;EAEAS,qBAAqB,CAACF,IAAI,CAAC;AAC/B,CAAC;AAEDE,qBAAqB,CAACF,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}