{"ast":null,"code":"import { Cell } from \"./Cell\";\nimport { GameObject } from \"./GameObject\";\nexport class Snake extends GameObject {\n  constructor(info, gamemap) {\n    super();\n    this.id = info.id;\n    this.color = info.color;\n    this.gamemap = gamemap;\n    this.cells = [new Cell(info.r, info.c)]; // saves the body of the snake, cell[0] represnts the head\n    this.next_cell = null; // the target grid for nex step\n\n    this.speed = 5; // snake moves 5 cell per second\n    this.direction = -1; // -1 represents no command, 0, 1, 2, 3 for up, right, down, left\n    this.status = \"idle\"; // idle reprenst no movement, move for moving and die for die\n\n    this.dr = [-1, 0, 1, 0];\n    this.dc = [0, 1, 0, -1]; // combined as moving up, right, down and left\n\n    this.rounds = 0; // # of rounds\n    this.eps = 1e-2;\n    this.eye_direction = 0;\n    if (this.id === 1) this.eye_direction = 2; // blue snake initialzed with eyes up and red one initially with eyes down\n\n    this.eye_position = {\n      dx: [[-1, 1], [1, 1], [-1, 1], [-1, -1]],\n      dy: [[-1, -1], [-1, 1], [1, 1], [1, -1]]\n    };\n  }\n  set_direction(d) {\n    this.direction = d;\n  }\n  check_tail_increasing() {\n    // the length of snake always increas for first 10 round and then increase every 3 round afater 10 (13, 16, 19, .....)\n    if (this.rounds <= 10) return true;\n    if (this.rounds % 3 === 1) return true;\n    return false;\n  }\n  start() {}\n  next_step() {\n    // change the status of stake to next round\n    const d = this.direction;\n    this.next_cell = new Cell(this.cells[0].r + this.dr[d], this.cells[0].c + this.dc[d]);\n    this.eye_direction = d;\n    this.direction = -1;\n    this.status = \"move\";\n    this.rounds++;\n    const k = this.cells.length;\n    for (let i = k; i > 0; i--) {\n      this.cells[i] = JSON.parse(JSON.stringify(this.cells[i - 1]));\n    }\n    if (!this.gamemap.judge(this.next_cell)) {\n      // next step hist something and kills the snake\n      this.status = \"die\";\n    }\n  }\n  update_move() {\n    const dx = this.next_cell.x - this.cells[0].x;\n    const dy = this.next_cell.y - this.cells[0].y;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n    if (distance < this.eps) {\n      this.cells[0] = this.next_cell; // update the snake head\n      this.next_cell = null;\n      this.status = \"idle\"; // mark as movement ends\n\n      if (!this.check_tail_increasing()) {\n        this.cells.pop();\n      }\n    } else {\n      const move_distance_per_frame = this.speed * this.time_delta / 1000; // move distance between two frame\n      this.cells[0].x += move_distance_per_frame * dx / distance;\n      this.cells[0].y += move_distance_per_frame * dy / distance;\n      if (!this.check_tail_increasing()) {\n        const k = this.cells.length;\n        const tail = this.cells[k - 1],\n          tail_target = this.cells[k - 2];\n        const tail_dx = tail_target.x - tail.x;\n        const tail_dy = tail_target.y - tail.y;\n        tail.x += move_distance_per_frame * tail_dx / distance;\n        tail.y += move_distance_per_frame * tail_dy / distance;\n      }\n    }\n  }\n  update() {\n    if (this.status === \"move\") {\n      this.update_move();\n    }\n    this.render();\n  }\n  equals(x, y) {\n    if (Math.abs(x - y) < this.eps) return true;\n    return false;\n  }\n  render() {\n    const L = this.gamemap.L;\n    const snake_width = L * 0.8;\n    const eye_radius = L * 0.1;\n    const eye_ball_radius = L * 0.04;\n    const ctx = this.gamemap.ctx;\n    ctx.fillStyle = this.color;\n    if (this.status === \"die\") ctx.fillStyle = \"white\";\n    for (const cell of this.cells) {\n      ctx.beginPath();\n      ctx.arc(cell.x * L, cell.y * L, snake_width / 2, 0, Math.PI * 2);\n      ctx.fill();\n    }\n    for (let i = 1; i < this.cells.length; i++) {\n      const a = this.cells[i - 1],\n        b = this.cells[i];\n      if (this.equals(a.x, b.x) && this.equals(a.y, b.y)) continue;\n      if (this.equals(a.x, b.x)) {\n        ctx.fillRect((a.x - 0.4) * L, Math.min(a.y, b.y) * L, snake_width, Math.abs(a.y - b.y) * L);\n      } else {\n        ctx.fillRect(Math.min(a.x, b.x) * L, (a.y - 0.4) * L, Math.abs(a.x - b.x) * L, snake_width);\n      }\n    }\n    if (this.status !== \"die\") {\n      ctx.fillStyle = \"#FFFECA\";\n      for (let i = 0; i < 2; i++) {\n        const eye_x = this.cells[0].x + this.eye_position.dx[this.eye_direction][i] * 0.15;\n        const eye_y = this.cells[0].y + this.eye_position.dy[this.eye_direction][i] * 0.15;\n        ctx.beginPath();\n        ctx.ellipse(eye_x * L, eye_y * L, eye_radius, eye_radius * 0.7, Math.PI / 2, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.closePath();\n      }\n      ctx.fillStyle = \"black\";\n      for (let i = 0; i < 2; i++) {\n        const eye_x = this.cells[0].x + this.eye_position.dx[this.eye_direction][i] * 0.15;\n        const eye_y = this.cells[0].y + this.eye_position.dy[this.eye_direction][i] * 0.18;\n        ctx.beginPath();\n        ctx.arc(eye_x * L, eye_y * L, eye_ball_radius, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.closePath();\n      }\n    } else {\n      ctx.strokeStyle = \"black\";\n      for (let i = 0; i < 2; i++) {\n        const eye_x = this.cells[0].x + this.eye_position.dx[this.eye_direction][i] * 0.15;\n        const eye_y = this.cells[0].y + this.eye_position.dy[this.eye_direction][i] * 0.18;\n        ctx.beginPath();\n        ctx.lineWidth = eye_ball_radius;\n        ctx.moveTo(eye_x * L + eye_ball_radius, eye_y * L - eye_ball_radius);\n        ctx.lineTo(eye_x * L - eye_ball_radius, eye_y * L + eye_ball_radius);\n        ctx.moveTo(eye_x * L - eye_ball_radius, eye_y * L - eye_ball_radius);\n        ctx.lineTo(eye_x * L + eye_ball_radius, eye_y * L + eye_radius);\n        ctx.stroke();\n      }\n    }\n  }\n}","map":{"version":3,"names":["Cell","GameObject","Snake","constructor","info","gamemap","id","color","cells","r","c","next_cell","speed","direction","status","dr","dc","rounds","eps","eye_direction","eye_position","dx","dy","set_direction","d","check_tail_increasing","start","next_step","k","length","i","JSON","parse","stringify","judge","update_move","x","y","distance","Math","sqrt","pop","move_distance_per_frame","time_delta","tail","tail_target","tail_dx","tail_dy","update","render","equals","abs","L","snake_width","eye_radius","eye_ball_radius","ctx","fillStyle","cell","beginPath","arc","PI","fill","a","b","fillRect","min","eye_x","eye_y","ellipse","closePath","strokeStyle","lineWidth","moveTo","lineTo","stroke"],"sources":["/Users/muzhouliu/Desktop/acwing/kob/web/src/assets/scripts/Snake.js"],"sourcesContent":["import { Cell } from \"./Cell\";\nimport { GameObject } from \"./GameObject\";\n\n\nexport class Snake extends GameObject{\n    constructor(info, gamemap){\n        super();\n\n        this.id = info.id;\n        this.color = info.color;\n        this.gamemap = gamemap;\n\n        this.cells = [new Cell(info.r, info.c)] // saves the body of the snake, cell[0] represnts the head\n        this.next_cell = null; // the target grid for nex step\n\n        this.speed = 5 // snake moves 5 cell per second\n        this.direction = -1 // -1 represents no command, 0, 1, 2, 3 for up, right, down, left\n        this.status = \"idle\" // idle reprenst no movement, move for moving and die for die\n\n\n        this.dr = [-1, 0, 1, 0];\n        this.dc = [0, 1, 0, -1]; // combined as moving up, right, down and left\n\n        this.rounds = 0; // # of rounds\n        this.eps = 1e-2;\n\n        this.eye_direction = 0;\n        if (this.id === 1) this.eye_direction = 2; // blue snake initialzed with eyes up and red one initially with eyes down\n\n        this.eye_position = {\n            dx : [\n                [-1, 1],\n                [1, 1],\n                [-1, 1],\n                [-1, -1],\n            ],\n            dy:[\n                [-1, -1],\n                [-1, 1],\n                [1, 1],\n                [1, -1],\n            ]\n        }\n    }\n\n    set_direction(d) {\n        this.direction = d;\n    }\n\n    check_tail_increasing(){ // the length of snake always increas for first 10 round and then increase every 3 round afater 10 (13, 16, 19, .....)\n        if (this.rounds <= 10) return true;\n        if (this.rounds % 3 === 1) return true;\n\n        return false;\n    }\n\n    start() {\n\n    }\n\n    next_step() { // change the status of stake to next round\n        const d = this.direction;\n        this.next_cell = new Cell(this.cells[0].r + this.dr[d], this.cells[0].c + this.dc[d]);\n        this.eye_direction = d;\n        this.direction = -1;\n        this.status = \"move\";\n        this.rounds ++;\n\n        const k = this.cells.length;\n        for (let i = k; i > 0; i--) {\n            this.cells[i] = JSON.parse(JSON.stringify(this.cells[i-1]));\n        }\n        if (!this.gamemap.judge(this.next_cell)) { // next step hist something and kills the snake\n            this.status = \"die\"\n        }\n    }\n\n    update_move() {\n\n        const dx = this.next_cell.x - this.cells[0].x;\n        const dy = this.next_cell.y - this.cells[0].y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n\n        if (distance < this.eps) {\n            this.cells[0] = this.next_cell; // update the snake head\n            this.next_cell = null; \n            this.status = \"idle\" // mark as movement ends\n\n            if(!this.check_tail_increasing()){\n                this.cells.pop();\n            }\n        } else {\n            const move_distance_per_frame = this.speed * this.time_delta / 1000; // move distance between two frame\n            this.cells[0].x += move_distance_per_frame * dx / distance;\n            this.cells[0].y += move_distance_per_frame * dy / distance;\n\n            if (!this.check_tail_increasing()) {\n                const k  = this.cells.length;\n                const tail = this.cells[k-1], tail_target = this.cells[k-2];\n                const tail_dx = tail_target.x - tail.x;\n                const tail_dy = tail_target.y - tail.y;\n                tail.x += move_distance_per_frame * tail_dx / distance;\n                tail.y += move_distance_per_frame * tail_dy / distance;\n            }\n        }\n\n\n    }\n\n    update() {\n        if (this.status === \"move\") {\n            this.update_move();\n        }\n        this.render();\n    }\n\n    equals (x, y){\n        if (Math.abs(x - y) < this.eps) return true;\n        return false;\n    }\n\n    render() {\n        const L = this.gamemap.L;\n        const snake_width = L * 0.8\n        const eye_radius = L * 0.1\n        const eye_ball_radius = L * 0.04\n        const ctx = this.gamemap.ctx;\n\n        ctx.fillStyle = this.color;\n        if (this.status === \"die\") ctx.fillStyle = \"white\"\n        for (const cell of this.cells) {\n            ctx.beginPath();\n            ctx.arc(cell.x * L, cell.y * L, snake_width / 2, 0, Math.PI * 2);\n            ctx.fill();\n        }\n\n        for (let i = 1; i < this.cells.length; i++) {\n            const a = this.cells[i - 1], b= this.cells[i];\n            if(this.equals(a.x, b.x) && this.equals(a.y, b.y))\n                continue;\n            if (this.equals(a.x, b.x)){\n                ctx.fillRect((a.x - 0.4) * L, Math.min(a.y, b.y) * L, snake_width, Math.abs(a.y - b.y) * L);\n            } else {\n                ctx.fillRect(Math.min(a.x, b.x) * L, (a.y - 0.4) * L, Math.abs(a.x - b.x) * L, snake_width);\n            }\n        }\n\n        if (this.status !== \"die\") {\n            ctx.fillStyle = \"#FFFECA\";\n            for (let i = 0; i < 2; i++) {\n                const eye_x = this.cells[0].x + this.eye_position.dx[this.eye_direction][i] * 0.15;\n                const eye_y = this.cells[0].y + this.eye_position.dy[this.eye_direction][i] * 0.15;\n                ctx.beginPath();\n                ctx.ellipse(eye_x * L, eye_y * L, eye_radius, eye_radius * 0.7, Math.PI / 2 , 0, Math.PI * 2);\n                ctx.fill();\n                ctx.closePath();\n            }\n            ctx.fillStyle = \"black\"\n            for (let i = 0; i < 2; i++) {\n                const eye_x = this.cells[0].x + this.eye_position.dx[this.eye_direction][i] * 0.15;\n                const eye_y = this.cells[0].y + this.eye_position.dy[this.eye_direction][i] * 0.18;\n                ctx.beginPath();\n                ctx.arc(eye_x * L, eye_y * L, eye_ball_radius, 0, Math.PI * 2);\n                ctx.fill();\n                ctx.closePath();\n            }\n        } else {\n            ctx.strokeStyle = \"black\";\n            for (let i = 0; i < 2; i++) {\n                const eye_x = this.cells[0].x + this.eye_position.dx[this.eye_direction][i] * 0.15;\n                const eye_y = this.cells[0].y + this.eye_position.dy[this.eye_direction][i] * 0.18;\n                ctx.beginPath();\n                ctx.lineWidth = eye_ball_radius;\n                ctx.moveTo(eye_x * L + eye_ball_radius, eye_y * L - eye_ball_radius);\n                ctx.lineTo(eye_x * L - eye_ball_radius, eye_y * L + eye_ball_radius);\n\n                ctx.moveTo(eye_x * L - eye_ball_radius, eye_y * L - eye_ball_radius);\n                ctx.lineTo(eye_x * L + eye_ball_radius, eye_y * L + eye_radius);\n                ctx.stroke();\n            }\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}